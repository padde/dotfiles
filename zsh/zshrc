# Custom directory outside of ~/.oh-my-zsh/ so we can track it with git
ZSH_CUSTOM="$HOME/.dotfiles/zsh/custom/"

# Prevent oh-my-zsh from asking for updates
# (use update_dotfiles instead and commit changes)
DISABLE_AUTO_UPDATE="true"

# Path to oh-my-zsh conf
ZSH=$HOME/.oh-my-zsh

# Theme
ZSH_THEME="padde"

# Uncomment following line if you want red dots to be displayed while waiting for completion
COMPLETION_WAITING_DOTS="true"

# Plugins
# plugins=(bundler gem git github osx rails3 ruby)
source $ZSH_CUSTOM/lib/hg.zsh

# OH MY ZSH!
source $ZSH/oh-my-zsh.sh

# Fix history search 
bindkey '\e[A' history-beginning-search-backward
bindkey '\e[B' history-beginning-search-forward 

# Use most as pager, if available
if which most > /dev/null; then
  export PAGER=most
fi

# Highlight grep results with bold red
export GREP_COLOR="1;31"

# Use macvim binary (has clipboard support)
if [[ -d /Applications/MacVim.app ]]; then
  alias vim='/Applications/MacVim.app/Contents/MacOS/Vim'
elif [[ -d ~/Applications/MacVim.app ]]; then
  alias vim='~/Applications/MacVim.app/Contents/MacOS/Vim'
fi

if which vim > /dev/null; then
  export EDITOR=vim
fi

# Colorize listings (especially in `tree`)
export LS_COLORS="no=00:di=34:ln=35:so=33"
export LS_COLORS="ex=37;41:$LS_COLORS"
export LS_COLORS="*.zip=36:*.rar=36:*.tar=36:*.gz=36:*.tar.gz=36:*.7z=36:$LS_COLORS"
export LS_COLORS="*.c=32:*.cc=32:*.cpp=32:*.m=32:*.rb=32:*.pl=32:*.php=32:*.java=32:$LS_COLORS"
export LS_COLORS="*.h=33:*.hpp=33:$LS_COLORS"
export LS_COLORS="*.o=30:*.d=30:$LS_COLORS"
export LS_COLORS="*Makefile=35:*.mk=35:*Rakefile=35:$LS_COLORS"

# Use 256 colors (fixes tmux colors)
export TERM="xterm-256color"

# Load RVM into a shell session *as a function*
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"

# /usr/local/bin should be in front of /usr/bin for homebrew
export PATH=/usr/local/bin:$PATH

# Add RVM to PATH for scripting
PATH=$PATH:$HOME/.rvm/bin 

# Heroku Toolbelt
HEROKU_TOOLBELT_DIR="/usr/local/heroku/bin"
if [ -d "$HEROKU_TOOLBELT_DIR" ]; then
  export PATH="$HEROKU_TOOLBELT_DIR:$PATH"
fi

# TeX live
TEX_BIN_DIR="/usr/texbin"
if [ -d "$TEX_BIN_DIR" ]; then
  export PATH="$TEX_BIN_DIR:$PATH"
fi

# Pick up npm Libraries
NODE_MODULES_DIR="/usr/local/lib/node_modules"
if [ -d "$NODE_MODULES_DIR" ]; then
  export NODE_PATH=NODE_MODULES_DIR
  export PATH="/usr/local/share/npm/bin:$PATH"
fi

# enable autojump
[[ -s `brew --prefix`/etc/autojump.zsh   ]] && . `brew --prefix`/etc/autojump.zsh
